<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Adding Layer using other API modules</title>
<style>
  html, body, #viewDiv {
    padding: 0;
    margin: 0;
    height: 100%;
    width: 100%;
  }
</style>
<link rel="stylesheet" 
href="https://js.arcgis.com/4.11/esri/css/main.css">
<script src="https://js.arcgis.com/4.11/"></script>
  <script>
        require([
    "esri/Map",
    "esri/views/MapView",
    "esri/layers/VectorTileLayer",
    "esri/config",
    "esri/layers/KMLLayer"
    
    ], function(Map, MapView,VectorTileLayer, esriConfig,KMLLayer) 
          {
      var myMap =new Map();
      
      var myView = new MapView({
          container: "viewDiv",
          map: myMap,
          center: [-88.9,13.5],
          scale:1600000
      });
      var myBasemap = new VectorTileLayer({
          url: "https://arts-sciences.maps.arcgis.com/sharing/rest/content/items/27d972e797ff4a0db1c681f37cae78d9/resources/styles/root.json?f=pjson"
      });
       myMap.add(myBasemap);
            var MyMines = "https://dl.dropboxusercontent.com/s/rahg8vtru2pixcg/MineES.kml?dl=0"
     esriConfig.request.corsEnabledServers.push(MyMines);
            
            var mines = new KMLLayer({url:MyMines});
            myMap.add(mines);
     
        });
</script>     
</head>
<body>
<div id = "viewDiv"> </div>
</body>
</html>